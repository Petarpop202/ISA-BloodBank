<div>
    <h1 class="masthead-heading mb-2 mt-3 text-center">Zakazani termini</h1>
    
        <div class="col-md-8">
            <div class="card my-4">
                <div class="card-body">
                    <div class="row mb-0">
                        <div class="form-outline mb-0">
                            <input type="date" class="form-control form-control-lg" [(ngModel)]="selectedDate"/>
                            <label class="form-label">Datum po훾etka termina</label>
                        </div>
                    </div>
                    <div style="color: red;" id="greska">{{dateError}}</div>
                    <div class="row mb-0">
                        <div class="col-md-2 mb-0">
                            <div class="form-outline">
                                <input type="number" class="form-control form-control-lg" [min]="0" [max]="23" [(ngModel)]="hours" />
                                <label class="form-label">Sati</label>
                            </div>
                        </div>
                        <div class="col-md-2 mb-0">
                            <div class="form-outline">
                                <input type="number" class="form-control form-control-lg" [min]="0" [max]="59" [(ngModel)]="minutes" />
                                <label class="form-label">Minute</label>
                            </div>
                        </div>
                    </div>
                    <div style="color: red;" id="greska">{{timeError}}</div>
                    <div style="color: red;" id="greska">{{error}}</div>
                    <div class="d-flex justify-content-end pt-3">
                        <button type="button" class="btn btn-warning btn-lg ms-2" (click)="searchAppointments()">Pretra탑i termine</button>
                    </div>
                </div>
            </div>
        </div>
    <div class="w-100 d-flex float-end justify-content-center align-items-center mat-app-background">
            <mat-form-field appearance="fill" class="mx-1 mt-3">
            <mat-label>Pretra탑i donora</mat-label>
                <input matInput (keyup)="filteredSportObjects()" [(ngModel)]="searchInput" placeholder="Pretraga po imenu donora">
            <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
            <button type="button" class="btn btn-warning btn-lg justify-content-center mx-1 my-1" (click)="resetFilters()">Resetuj</button>
    </div>
    <br>
    <!-- tabela -->
    <section class="my-5">
        <div class="container px-5">
            
            <div class="row gx-5 align-items-center">
                <table class="table w-100">
                    <thead>
                        <tr>
                            <th>Korisnik</th>
                            <th>Datum po훾etka</th>
                            <th>Trajanje</th>
                            <th>Zapocni pregled</th>
                            <th>Propusten pregled</th>
                            <th>Ne ispunjava uslove</th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngFor="let visit of filteredSportObjects()">
                            <tr>
                                <td>{{visit.bloodDonor.name}} {{visit.bloodDonor.surname}}</td>
                                <td>{{visit.bloodDonationAppointment.startDateTime | date : 'dd.MM.yyyy. HH:mm'}}</td>
                                <td>{{visit.bloodDonationAppointment.duration}}</td>
                                <td><button class="btn btn-dark text-white" (click)="startAppointment(visit.id)">Zapocni</button></td>
                                <td><button class="btn btn-dark text-white" (click)="didntShowAppointment(visit.id)">Nije se pojavio</button></td>
                                <td><button class="btn btn-dark text-white" (click)="rejectDonation(visit.id)">Odbij donaciju</button></td>
                            </tr>
                        </ng-container>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>
